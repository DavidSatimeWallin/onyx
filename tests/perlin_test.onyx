#load "core/std"
#load "modules/perlin/module"

use package core
perlin :: package perlin

char_map :: (x: f64) -> u8 {
    switch cast(i32) math.floor(x) {
        case 0 do return #char " ";
        case 1 do return #char ".";
        case 2 do return #char ":";
        case 3 do return #char ";";
        case 4 do return #char "$";
        case 5 do return #char "X";
        case 6 do return #char "#";
        case 7 do return #char "@";
        case #default do return #char " ";
    }
}

main :: (args) => {
    for y: 48 {
        for x: 96 {
            fx := cast(f64) x;
            fy := cast(f64) y;
            n := perlin.noise(fx / 4, fy / 4, 0);
            char_map(n * 4 + 4) |> print();
        }
        print("\n");
    }
}


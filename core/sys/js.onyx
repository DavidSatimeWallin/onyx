package system


use package core
use package main as main

output_string :: proc (s: string) -> u32 #foreign "host" "print_str" ---

// The builtin _start proc.
// Sets up everything needed for execution.
proc #export "_start" {
    memory_init();

    context.allocator = heap_allocator;
    context.temp_allocator = heap_allocator;

    stdio_init();

    args : [] cstring;
    args.data  = null;
    args.count = 0;

    main.main(args);

    print_buffer_flush();
}
